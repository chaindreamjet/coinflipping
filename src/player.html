<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Coin Flipping Game</title>
    <!-- Bootstrap -->
    <link href="css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <div id="content">
        <h1 id="title">Coin Flipping!</h1>
        <div style="margin: 8px;">

            <div style="margin: 8px;">
                <strong><span id="username"></span></strong>
                <span>, Welcome Back! </span>
            </div>

            <div style="margin: 8px;">
                <span>Your Current Balance: </span>
                <strong><span id="balance">0</span></strong>
                <span> eth</span>
            </div>
        </div>

        <div style="margin: 8px;">
            <h2>BALANCE MANAGER</h2>
            <div style="margin: 8px;">
                <div id="deposit" style="margin: 8px;">
                    <input type="text" id="depositNum" placeholder="0">
                    <span> eth</span>
                    <button id="depositBtn"> Deposit</button>
                </div>

                <div id="withdraw" style="margin: 8px;">
                    <input type="text" id="withdrawNum" placeholder="0">
                    <span> eth</span>
                    <button id="withdrawBtn"> Withdraw</button>
                </div>
            </div>

            <div style="margin: 8px;">
                <div id="transferByName" style="margin: 6px;">
                    <div>
                        <span>Transfer Using Name</span>
                        <button id="transferBtn1">Transfer</button>
                    </div>
                    <div style="margin: 4px;">
                        <span>Amount: </span>
                        <input type="text" id="transferNum1" placeholder="0">
                        <span> eth</span>
                    </div>
                    <div style="margin: 4px;">
                        <span>User:&nbsp&nbsp&nbsp&nbsp&nbsp </span>
                        <input type="text" id="toName">
                    </div>
                </div>

                <div id="transferByAddress" style="margin: 6px;">
                    <div>
                        <span>Transfer Using Address</span>
                        <button id="transferBtn2">Transfer</button>
                    </div>
                    <div style="margin: 4px;">
                        <span>Amount:&nbsp </span>
                        <input type="text" id="transferNum2" placeholder="0">
                        <span> eth</span>
                    </div>
                    <div style="margin: 4px;">
                        <span>Address: </span>
                        <input type="text" id="toAddress">
                    </div>
                </div>
            </div>
        </div>

        <div style="margin: 8px;">
            <h2>GAME</h2>
            <h4>Come and Play it! Bet 1 Ether at One Time and Get 1.9 Ether Back if Win!</h4>
            <div style="margin: 8px;">
                <button id="joinGame">JOIN GAME</button>
                <span id='joinState'>Flip!</span>
            </div>

            <div style="margin: 8px;">
                <button id="getNumber">GET NUMBER</button>
                <span id="gameState">Game NOT Ongoing</span>
            </div>

            <div style="margin: 8px;">
                <div style="margin: 4px;">
                    <input type="text" id="hashValue">
                    <button id="sendHash"> Send Hash</button>
                    <div>
                        <span>Once the game starts, </span>
                        <span>You must send the hash of your number </span>
                        <strong><span>in</span></strong>
                        <span> 1 minute,</span>
                    </div>
                </div>

                <div style="margin: 4px;">
                    <input type="text" id="numValue">
                    <button id="sendNumber"> Send Number</button>
                    <div>
                        <span>And send the corresponding number </span>
                        <strong><span>after</span></strong>
                        <span> 1 minute.</span>
                    </div>
                </div>

                <div>
                    <strong><span>Warning:</span></strong>
                    <span> If you do</span>
                    <strong><span> not </span></strong>
                    <span>send the corresponding number, you will </span>
                    <strong><span>not</span></strong>
                    <span> get your bet back.</span>
                </div>
            </div>

            <div style="margin: 8px;">
                <button id="checkWinner"> Check Winner</button>
                <strong><span id="winner"> You Won/Lose! </span></strong>
            </div>
        </div>

        <div style="margin: 8px;">
            <div style="margin: 8px;">
                <h2>CHECK</h2>
                <button id="checkTransferHistory">Check Transfer History</button>
                <span>You can check all your deposit, withdraw and transfer transactions</span>
                <table id="transferHistory", border="1">
                    <thead>
                        <tr>
                            <th>record ID</th>
                            <th>From</th>
                            <th>To</th>
                            <th>Amount/eth</th>
                            <th>Time</th>
                        </tr>
                    </thead>
                    <tbody id="checkTransferHistoryBody">
                        <tr>

                        </tr>
                    </tbody>
                </table>
            </div>

            <div style="margin: 8px;">
                <button id="playerCheckGameHistory">Check Game History</button>
                <span>You can only check the last game</span>
                <table id="gameHistory" border="1">
                    <thead>
                        <tr>
                            <th>GameID</th>
                            <th>Player 1</th>
                            <th>Player 2</th>
                            <th>Number 1</th>
                            <th>Number 2</th>
                            <th>Start time</th>
                            <th>Winner</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td id="gameID"></td>
                            <td id="player1"></td>
                            <td id="player2"></td>
                            <td id="number1"></td>
                            <td id="number2"></td>
                            <td id="startTime"></td>
                            <td id="winner2"></td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="js/bootstrap.min.js"></script>
    <script src="js/web3.min.js"></script>
    <script src="js/truffle-contract.js"></script>
    <script src="js/player.js"></script>
</body>
</html>